- defaults:
    link:
      create: true
      relink: true

- create:
  - ~/.dotfiles_update

- shell:
  - [git submodule update --init --recursive, Installing submodules]
  - [git submodule sync, Syncing submodule remotes]
  - [git submodule foreach git pull origin master, Updating submodule contents]
  - [date > ~/.dotfiles_update, Logging last update]

- clean: ['~', '~/.config', '~/.vim']

- link:
    ~/.bashrc: bashrc
    ~/.bash_profile: bash_profile
    ~/.bash_aliases: bash_aliases
    ~/.bash_functions: bash_functions
    ~/.bash_logout: bash_logout
    ~/.bash_prompts: bash_prompts
    ~/.config: config
    ~/.dircolors: dircolors
    ~/.curlrc: curlrc
    ~/.gitconfig: gitconfig
    ~/.gitignore_global: gitignore_global
    ~/.multitail.conf: multitail.conf
    #~/.markdownlintrc: markdownlintrc
    ~/.ripgreprc: ripgreprc
    ~/.psqlc: psqlc
    ~/.profile: profile
    ~/.tigrc: tigrc
    ~/.vimrc: vimrc
    ~/.fzf-functions.sh: fzf-functions.sh
    ~/.fzf-completion.bash: fzf-completion.bash
    ~/bin: bin
    ~/.vim: vim
    ~/AppData/Roaming/alacritty/alacritty.yml: 
      if: '[ $(uname -o) = Msys ]'
      path: alacritty.yml
    ~/AppData/Local/nvim/init.vim:
      if: '[ $(uname -o) = Msys ]'
      path: config/nvim/init.vim
